<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Carte de Visite Connectée</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
   
</head>
<body>
    <div class="card-container">
        <div class="header">
            <div class="profile-image" id="profileImage">
                <span id="initials">JD</span>
            </div>
            <div class="name" id="userName">Jean Dupont</div>
            <div class="title" id="userTitle">Développeur Full Stack</div>
            <div class="company" id="userCompany">Entreprise</div>
        </div>
        <div class="content">
            <a href="#" class="action-button email-btn" id="emailBtn">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
                Email
            </a>
            <a href="#" class="action-button phone-btn hidden" id="phoneBtn">
                <img src="https://get-picto.com/wp-content/uploads/2024/03/pictogramme-telephone-gratuit.webp" alt="Téléphone" style="width:20px;height:20px;object-fit:contain;vertical-align:middle;">
                Appeler
            </a>
            <a href="https://www.coulommierspaysdebrie.fr/formulaire-de-contact-autre-service/" target="_blank" class="action-button contact-btn" id="contactFormBtn">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 6v12a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2zm2 0h14v12H5V6zm7 2a2 2 0 110 4 2 2 0 010-4zm0 6c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                Formulaire de contact
            </a>
            <div class="social-links" id="socialLinks"></div>
        </div>
    </div>
    <script>
        const defaultProfile = {
            name: "Jean Dupont",
            title: "Développeur Full Stack",
            company: "Entreprise Générique",
            initials: "JD",
            email: "jean.dupont@example.com",
            linkedin: "https://linkedin.com/in/jean-dupont",
            phone: "",
            photo: "",
            color: "#4facfe"
        };
        const profiles = {
            "jean": {
                name: "Jean Dupont",
                title: "Développeur Full Stack",
                company: "Ma Société",
                initials: "JD",
                email: "jean.dupont@example.com",
                linkedin: "https://linkedin.com/in/jean-dupont",
                phone: "+33 1 23 45 67 89",
                photo: "",
                color: "#4facfe"
            },
            "ELISE_CANDELIER": {
                name: "Elise Candelier",
                title: "Chargée de communication",
                company: "Coulommiers Pays de Brie Agglomération",
                initials: "EC",
                email: "elise.candelier@coulommierspaysdebrie.fr",
                linkedin: "",
                phone: "+33 7 79 91 65 29",
                facebook: "https://www.facebook.com/cpb.agglo/?locale=fr_FR",
                photo: "",
                color: "#4facfe"
            },
            "Alexandre_Lopere": {
                name: "Alexandre Lopere",
                title: "Stagiaire Développeur",
                company: "Coulommiers Pays de Brie Agglomération",
                initials: "AL",
                email: "loperealexandre@gmail.com",
                linkedin: "https://www.linkedin.com/in/alexandre-lopere-303b3a294/",
                phone: "+33 6 45 82 92 54",
                facebook: "https://www.facebook.com/cpb.agglo/?locale=fr_FR",
                photo: "",
                color: "#4facfe"
            }
        };
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }
        function loadProfile() {
            const profileId = getUrlParameter('id') || getUrlParameter('profile');
            const profile = profiles[profileId] || defaultProfile;
            document.getElementById('pageTitle').textContent = `${profile.name} - Carte de Visite`;
            document.getElementById('userName').textContent = profile.name;
            document.getElementById('userTitle').textContent = profile.title;
            document.getElementById('userCompany').textContent = profile.company || "";
            const profileImageEl = document.getElementById('profileImage');
            const initialsEl = document.getElementById('initials');
            if (profile.photo) {
                initialsEl.style.display = 'none';
                profileImageEl.innerHTML = `<img src="${profile.photo}" alt="${profile.name}">`;
            } else {
                initialsEl.textContent = profile.initials;
            }
            updateLinks(profile);
            createSocialLinks(profile);
        }
        function updateLinks(profile) {
            const emailBtn = document.getElementById('emailBtn');
            emailBtn.href = `mailto:${profile.email}`;
            const phoneBtn = document.getElementById('phoneBtn');
            if (profile.phone) {
                phoneBtn.href = `tel:${profile.phone.replace(/\s/g, '')}`;
                phoneBtn.innerHTML = `<img src="https://get-picto.com/wp-content/uploads/2024/03/pictogramme-telephone-gratuit.webp" alt="Téléphone" style="width:20px;height:20px;object-fit:contain;vertical-align:middle;"> ${profile.phone}`;
                phoneBtn.classList.remove('hidden');
            } else {
                phoneBtn.classList.add('hidden');
            }
        }
        function createSocialLinks(profile) {
            const socialLinksEl = document.getElementById('socialLinks');
            socialLinksEl.innerHTML = '';
            if (profile.linkedin) {
                socialLinksEl.innerHTML += `<a href="${profile.linkedin}" target="_blank" class="social-link">in</a>`;
            }
            if (profile.facebook) {
                socialLinksEl.innerHTML += `<a href="${profile.facebook}" target="_blank" class="social-link">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook" style="width:20px;height:20px;object-fit:contain;">
                </a>`;
            }
        }
        document.addEventListener('DOMContentLoaded', function() {
            loadProfile();
        });
    </script>
</body>
</html>